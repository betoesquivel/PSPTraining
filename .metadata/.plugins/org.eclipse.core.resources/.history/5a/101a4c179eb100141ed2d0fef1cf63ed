package mx.itesm.a01139626.p1.src;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;

public class FileLineSorter implements ErrorMessages{

	ArrayList<String> sArrFileNames;
	ArrayList<FileInfo> filArrFilesWithStats;
	
	public FileLineSorter(){
		
		sArrFileNames = new ArrayList<String>();
		filArrFilesWithStats = new ArrayList<FileInfo>();
		
	}
	
	public void addFileName(String s){
		sArrFileNames.add(s);
	}
	
	public static void main(String[] args) throws IOException{
		BufferedReader bufIn = new BufferedReader(new InputStreamReader(System.in));
		Parser parValidator = new Parser();
		
		FileLineSorter filSorter = new FileLineSorter();
		String sFileNumber = null;
		int iFileNumber = 0; 
		
		// ask for how many files are to be sorted
		do {
			if (sFileNumber != null) {
				System.out.println(sINVALID_INTEGER);
			}
			System.out.println("Introduzca el numero de archivos a ordenar: ");
			sFileNumber = bufIn.readLine();
		
		} while (parValidator.isNumeric(sFileNumber));
		
		iFileNumber = Integer.parseInt(sFileNumber);
		
		// ask for file names separated by a new line with extension
		System.out.println("Introduzca los nombres de los archivos a ordenar, separados por "
				+ "un salto de linea. (ejemplo: Archivo1.txt)");
		int iCount = 0; 
		String sFName = null;
		boolean bValid = true; 
		
		do {
			if (sFName == null){
				System.out.println (sINVALID_FILE_NAME);
			}
			iCount = 0;
			bValid = true; 
			while (iCount < iFileNumber && bValid) {
				
				sFName = bufIn.readLine();
				bValid = parValidator.isValidFile(sFName);
				if (bValid){
					// add to file list
					filSorter.addFileName(sFName);
				} else {
					// reset file count
					iCount = 0; 
				}
				
				iCount++;
				
			}
		} while (iCount == 0); // keep asking until having at least one valid file
		
		// read number of files from input
		
		
		// validate the files
		
		
		// keep asking for the files until valid input
		
		
		// construct and parse all files in the file name arraylist
		
		
		// sort all files in FileInfo arraylist
		
		
		// print all files in FileInfo arraylist
		
		
	}

}
